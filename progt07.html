<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Colecciones</title>

		<meta name="description" content="Estructuras de datos">
		<meta name="author" content="Eladio Blanco">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">

		<!-- TEMA: beige, black, blood, league, moon, night, serif, simple, sky, solarized, white -->
		<link rel="stylesheet" href="css/theme/whiteMIO.css" id="theme">

		<!-- CSS propio -->
		<link rel="stylesheet" href="css/micss.css">

		<!-- Theme used for syntax highlighting of code. Descargar de https://highlightjs.org/download/
			monokai, zenburn, vs2015.min.css, vs.min.css, github.min.css, github-dark.min.css ... -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<!-- Título -->
				<section>
					<h1>Programación</h1>
					<h3>Tema 7: Colecciones</h3>
					<p>
						<small><a href="http://www.eladioblanco.es">Eladio Blanco</a></small>
					</p>
				</section>

				<!-- Índice -->
				<section>
					<h2>Índice</h2>
					<ol>
						<li class="fragment highlight-blue">Introducción</li>
						<li>Colecciones
							<ul>
								<li>Conjuntos</li>
								<li>Listas</li>
								<li>Diccionarios</li>
							</ul>
						</li>
						<li>Otras estructuras
							<ul>
								<li>XML</li>
								<li>JSON</li>
							</ul>
						</li>
					</ol>
				</section>

				<!-- Introducción -->
				<section>
					<h2>Introducción</h2>
					<p>Sin estructuras de datos podemos hacer programas complejos, pero limitados por el número de datos: Número finito de usuarios, cuentas, incidencias...</p>
					<p><strong>Solución</strong>: Almacenar en estructuras datos simples y compuestos, con un número fijo o dinámico de elementos que se puedan recorrer y sobre los que realizar las operaciones <abbr title="Create Read Update Delete">CRUD</abbr>.</p>
				</section>

				<!-- Introducción -->
				<section>
					<h2>Introducción</h2>
					<h3>Clasificación de las estructuras de almacenamiento</h3>
					<p>Si pueden almacenar...</p>
					<ul>
						<li><em>Datos del mismo tipo</em>: arrays (vectores), arrays multidimensionales (matrices), listas, colecciones, conjuntos...</li>
						<li><em>Datos de distinto tipo</em>: clases (vistas en POO).</li>
					</ul>
				</section>

				<!-- Introducción -->
				<section>
					<h2>Introducción</h2>
					<h3>Clasificación de las estructuras de almacenamiento</h3>
					<p>Según su tamaño...</p>
					<ul>
						<li><em>Fijo</em>: Su tamaño se especifica al crear la estructura y no cambia. Ejemplo: arrays o matrices.</li>
						<li><em>Dinámico</em>: Su tamaño cambia en tiempo de ejecución según las necesidades. Ejemplo: listas, hash, colecciones...</li>
					</ul>
				</section>

				<!-- Índice -->
				<section>
					<h2>Índice</h2>
					<ol>
						<li>Introducción</li>
						<li class="fragment highlight-blue">Colecciones
							<ul>
								<li>Conjuntos</li>
								<li>Listas</li>
								<li>Diccionarios</li>
							</ul>
						</li>
						<li>Otras estructuras
							<ul>
								<li>XML</li>
								<li>JSON</li>
							</ul>
						</li>
					</ol>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<p>Una colección es un grupo de elementos almacenados de forma conjunta en una misma estructura.</p>
					<p>Además de los datos, la colección recoge las funciones para interactuar con ellos.</p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<p><img src="img/progt05-27b.png" alt="Colecciones en Java" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<p>Los <span class="violeta">conjuntos</span> y <span class="violeta">listas</span> implementan una interfaz inicial <em>java.util.Collection</em> que define las operaciones comunes a todas ellas.</p>
					<p><img src="img/progt05-26.png" alt="Operaciones de Collection" /></p>
				</section>			

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<p>Los <span class="violeta">diccionarios</span> implementan una interfaz inicial <em>java.util.Map</em> que define las operaciones comunes a todos ellos.</p>
					<p><img src="img/progt05-48.png" alt="Operaciones de Collection" /></p>
				</section>	
				

				<!-- Índice -->
				<section>
					<h2>Índice</h2>
					<ol>
						<li>Introducción</li>
						<li>Colecciones
							<ul>
								<li class="fragment highlight-blue">Conjuntos</li>
								<li>Listas</li>
								<li>Diccionarios</li>
							</ul>
						</li>
						<li>Otras estructuras
							<ul>
								<li>XML</li>
								<li>JSON</li>
							</ul>
						</li>
					</ol>
				</section>
				
				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Conjuntos</h3>
					<p>Tipo de colección que no admite duplicados, derivados del concepto matemático de conjunto.</p>
					<p>La interfaz <em>java.util.Set</em> define cómo deben ser los conjuntos, y extiende la interfaz Collection, aunque no añade ninguna operación nueva.</p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Conjuntos</h3>
					<p>Las clases más utilizadas que implementan dicha interfaz son:</p>
					<ul>
						<li><span class="naranja">java.util.HashSet</span>: Conjunto que
							almacena los objetos usando <abbr title="Estructura de datos formada por un array donde la posición de los datos va determinada por una función hash, permitiendo localizar la información de forma extraordinariamente rápida. Los datos están ordenados en la tabla en base a un resumen numérico de los mismos (en hexadecimal generalmente) obtenido a partir de un algoritmo para cálculo de resúmenes, denominadas funciones hash.">tablas hash</abbr>.</li>
						<li><span class="naranja">java.util.LinkedHashSet</span>: Conjunto que almacena objetos combinando tablas hash, para un acceso rápido a los datos, y listas enlazadas.</li>
						<li><span class="naranja">java.util.TreeSet</span>: Conjunto que almacena los objetos usando unas estructuras conocidas como <a href="https://es.wikipedia.org/wiki/%C3%81rbol_rojo-negro" target="_blank">árboles rojo-negro</a>. Son más lentas que los dos tipos anteriores. Pero tienen una gran ventaja: los datos almacenados se ordenan por valor.</li>
					</ul>
				</section>

				<!-- Índice -->
				<section>
					<h2>Índice</h2>
					<ol>
						<li>Introducción</li>
						<li>Colecciones
							<ul>
								<li>Conjuntos</li>
								<li class="fragment highlight-blue">Listas</li>
								<li>Diccionarios</li>
							</ul>
						</li>
						<li>Otras estructuras
							<ul>
								<li>XML</li>
								<li>JSON</li>
							</ul>
						</li>
					</ol>
				</section>
				
				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>Avance respecto a conjuntos. Añade:</p>
					<ul>
						<li>Almacenamiento de elementos repetidos.</li>
						<li>Acceso a los elementos por posición.</li>
						<li>Búsqueda de elementos (obtiene posición).</li>
						<li>Extracción de sublistas.</li>
					</ul>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>Todas las listas implementan una interfaz inicial <em>java.util.List</em> que define las operaciones comunes a todas ellas.</p>
					<p><img src="img/progt05-28.png" alt="Operaciones de List" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>Las clases más utilizadas que implementan dicha interfaz son:</p>
					<ul>
						<li><span class="naranja">java.util.LinkedList</span>: Lista doblemente enlazada. Desde cada elemento se puede acceder al siguiente y al anterior. Los elementos de la lista van encapsulados en "nodos". Eliminación de datos rápida.</li>
						<li><span class="naranja">java.util.ArrayList</span>: Arrays que se van redimensionando conforme se necesita más espacio o menos. Acceso a datos rápido.</li>
					</ul>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>LinkedList</p>
					<p><img src="img/progt05-29.png" alt="LinkedList" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>LinkedList</p>
					<p><img src="img/progt05-30.png" alt="LinkedList código" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList</p>
					<p><img src="img/progt05-31.png" alt="ArrayList métodos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Declaración</p>
					<p><img src="img/progt05-32.png" alt="ArrayList declaración" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ejemplo</p>
					<p><img src="img/progt05-33.png" alt="ArrayList ejemplo" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Recorrido</p>
					<p><img src="img/progt05-34.png" alt="ArrayList recorrido elementos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Borrado</p>
					<p><img src="img/progt05-35.png" alt="ArrayList borrado elementos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Borrado</p>
					<pre>
						<code class="hljs" data-trim> 
							ArrayList<String> colores = new ArrayList<String>();
							
							colores.add("violeta");
							colores.add("blanco");
							colores.add("negro");
							colores.add("verde");

							// Eliminar elementos que cumplan la condición de la función
							colores.removeIf(c -> c.startsWith("v"));
							System.out.println(colores);
						</code>
					</pre>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Set</p>
					<p><img src="img/progt05-36.png" alt="ArrayList set" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Add</p>
					<p><img src="img/progt05-37.png" alt="ArrayList add" /></p>
				</section>
				
				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Almacenar objetos</p>
					<p><img src="img/progt05-38.png" alt="ArrayList objetos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Almacenar objetos</p>
					<p><img src="img/progt05-39.png" alt="ArrayList objetos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación <span class="naranja">Collection.sort(lista)</span></p>
					<p><img src="img/progt05-40.png" alt="ArrayList ordenación" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación <span class="naranja">Collection.sort(lista)</span></p>
					<p>Para ordenar con una lista de objetos, antes hay que definir el criterio de ordenación en su clase implementando la interfaz <span class="rosa">Comparable</span> y redefiniendo el método <span class="violeta">compareTo</span>.</p>
					<p><img src="img/progt05-41.png" alt="ArrayList ordenación objetos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación <span class="naranja">Collection.sort(lista)</span></p>
					<p>¿Cómo lo ordenarías por raza? ¿Y por color?</p>
					<p><img src="img/progt05-42.png" alt="ArrayList ordenación objetos" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación mediante <span class="naranja">clase y Comparator</span>.</p>
					<p>1) Crear una clase que implemente la interafaz <span class="rosa">Comparator</span> y redefina el método <span class="violeta">compare</span>.</p>
					<pre>
						<code class="hljs" data-trim> 
						public class MayorAMenor implements Comparator&lt;Integer&gt; {
							// Devuelve:
							// POSITIVO si el primer número es menor que el segundo
							// CERO si son iguales
							// NEGATIVO si el primer número es mayor que el segundo
						
							public int compare(Integer o1, Integer o2){
								return -(o1-o2);
							}
						}
						</code>
					</pre>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación mediante <span class="naranja">clase y Comparator</span>.</p>
					<p>2) Llamar al método <span class="violeta">sort</span> de Collections o la propia lista pasándole una instancia de la clase anterior.</p>
					<pre>
						<code class="hljs" data-trim> 
						public static void main(String[] args) {
												
							List&lt;Integer&gt; lista = Arrays.asList(1,2,3,4,5,6,7,8,9,10);
																	
							// Ordenar de mayor a menor
							lista.sort(new MayorAMenor());
							System.out.println(lista);
						}
						</code>
					</pre>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación mediante <span class="naranja">clase anónima</span>.</p>
					<p>Llamar al método <span class="violeta">sort</span> de Collections o la propia lista pasándole una instancia de la clase anónima.</p>
					<pre>
						<code class="hljs" data-trim> 
						lista.sort(new Comparator&lt;Integer&gt;() {
							@Override
							public int compare(Integer o1, Integer o2) {
								return -(o1-o2);
							}
						});
						</code>
					</pre>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación mediante <span class="naranja">clase anónima</span>.</p>
					<p>Otro ejemplo:</p>
					<p><img src="img/progt05-43.png" alt="ArrayList ordenación Comparator" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación mediante <span class="naranja">función lambda</span>.</p>
					<p>Llamar al método <span class="violeta">sort</span> de Collections o la propia lista pasándole una función lambda.</p>
					<pre>
						<code class="hljs" data-trim> 
						// Los tipos de los argumentos se infieren de la lista
						lista.sort((o1, o2) -> {
							return -(o1-o2);
						});

						// Mejor así:
						lista.sort((o1, o2) -> -(o1-o2));
						</code>
					</pre>
				</section>

				<!-- Colecciones 
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<p>ArrayList. Ordenación mediante función lambda</p>
					<pre>
						<code class="hljs" data-trim> 
						ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();
						a.add(67); a.add(78); a.add(10); a.add(4);

						// 1) Ordenar mediante Collections
						Collections.sort(a);

						// 1) Ordenar mediante Collections en orden descendente
						Collections.sort(a, new Comparator&lt;Integer&gt;(){
							@Override
							public int compare(Integer o1, Integer o2) {
								return o2-o1;
							}
						});

						// 2) Ordenar directamente con el método sort del ArrayList en orden descendente
						a.sort(new Comparator&lt;Integer&gt;(){
							@Override
							public int compare(Integer o1, Integer o2) {
								return o2-o1;
							}
						});

						// 3) Ordendar con función lambda en orden descendente
						a.sort((o1, o2) -> o2-o1);

						for (int numero : a) System.out.println(numero);
						</code>
					</pre>
				</section>
				-->

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<h4>Consideraciones finales</h4>
					<ul>
						<li>Pueden almacenar objetos inmutables (String, Integer, Long...) y mutables (Clases del programador).</li>
						<li>En el método <span class="naranja">.add</span> los objetos inmutables se pasan por copia y lo mutables por referencia.</li>
						<li>Ateción a cómo se almacenan los objetos y qué se hace con las variables que apuntan a ellos.</li>
					</ul>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<h4>Consideraciones finales</h4>
					<p>¿Qué valores de la lista se imprimen en cada for?</p>
					<p><img src="img/progt05-44.png" alt="ArrayList paso por referencia" /></p>
					
					<aside class="notes"><!-- Notas orador (pulsar S) -->
						El resultado de ejecutar el código anterior es que se muestran los números 44 y 12. El número ha sido modificado y no hemos tenido que volver a insertar el elemento en la lista para que en la lista se cambie también. Esto es porque en la lista no se almacena una copia del objeto Test, sino un apuntador a dicho objeto (solo hay una copia del objeto a la que se hace referencia desde distintos lugares). 
					</aside>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<h4>Consideraciones finales</h4>
					<p>Otro ejemplo con los gaticos</p>
					<p><img src="img/progt05-45.png" alt="ArrayList paso por referencia" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<h4>Ejercicio: App Banco</h4>
					<p><img src="img/progt05-46.png" alt="Ejercicio App Banco" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas</h3>
					<h4>Más ejercicios para practicar</h4>
					<p><img src="img/progt05-47.png" alt="Más ejercicios" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas. Bonus: Programación funcional</h3>
					<p>La <span class="naranja">API Stream</span> permite trabajar con una colección como si fuese un flujo de información y así realizar operaciones de filtrado, transformación, ordenación, agrupación y presentación de información.</p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas. Bonus: Programación funcional</h3>
					<pre>
						<code class="hljs" data-trim> 
						public static void main(String[] args) {
					
							List&lt;Integer&gt; lista = Arrays.asList(1,2,3,4,5,6,7,8,9,10);

							// 1. Imprimir todos los números de la lista
							lista.stream().forEach((num) -> System.out.print(num));
					
							// 2. Filtrar (mayores de 3), ordenar (de mayor a menor) y presentar
							lista
									.stream()
									.filter((x) -> x>=3)
									.sorted((o1,o2) -> -(o1-o2))
									.forEach((n) -> System.out.println(n));
					
							// 3. Aplicar transformación (x10) a cada elemento y presentar
							lista
									.stream()
									.map((n) -> n*10)
									.forEach((n) -> System.out.println(n));
					
							// 3. Agrupar todos los elementos para obtener la suma
							lista
									.stream()
									.reduce((n, acu) -> n + acu)
									.ifPresent(sum -> System.out.println("Suma: " + sum));
					
							// 4. Agrupar todos los elementos para obtener el máximo
							lista
									.stream()
									.reduce((n, max) -> {
										if(n>max) return n;
										return max;
									})
									.ifPresent((max) -> System.out.println("Máximo: " + max));
					
							System.out.println("Lista original sin modificar (operaciones no mutables)");
							System.out.println(lista);
						}
						</code>
					</pre>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Listas. Bonus: Programación funcional</h3>
					<iframe width="560" height="315" src="https://www.youtube.com/embed/E3BU2fvolfY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
				</section>

				<!-- Índice -->
				<section>
					<h2>Índice</h2>
					<ol>
						<li>Introducción</li>
						<li>Colecciones
							<ul>
								<li>Conjuntos</li>
								<li>Listas</li>
								<li class="fragment highlight-blue">Diccionarios</li>
							</ul>
						</li>
						<li>Otras estructuras
							<ul>
								<li>XML</li>
								<li>JSON</li>
							</ul>
						</li>
					</ol>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios</h3>
					<p>Almacenan pares de clave/valor</p>
					<p>Todos los diccionarios implementan una interfaz inicial <em>java.util.Map</em> que define las operaciones comunes.</p>
					<p><img src="img/progt05-48.png" alt="Operaciones de Map" /></p>
					<p>Tipos: <span class="fragment highlight-blue">HashMap</span>, EnumMap, Hashtable, IdentityHashMap, LinkedHashMap</p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios</h3>
					<p>Las clases más utilizadas que implementan dicha interfaz son <span class="fragment highlight-blue naranja">java.util.HashMap</span>, 
						<span class="naranja">java.util.TreeMap</span> y <span class="naranja">java.util.LinkedHashMap</span>.
						Cada una de ellas, respectivamente, tiene características similares a HashSet, TreeSet y LinkedHashSet, tanto en funcionamiento interno como en rendimiento.
					</p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<ul>
						<li>Colección no ordenada de elementos</li>
						<li>Se implementa en una tabla hash</li>
						<li>Se pasa una función hash a la clave que determina dónde se almacena</li>
						<li>Si hay <abbr title="2 claves producen el mismo resumen hash y por tanto se deben guardar en el mismo sitio">colisión</abbr> el nuevo par clave/valor se enlaza al anterior</li>
						<li>Acceso a través de la clave o del valor</li>
						<li>Permite valores nulos, pero sólo 1 clave nula</li>
					</ul>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p><img src="img/progt05-49.jpg" alt="HashMap funcionamiento" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<iframe width="560" height="315" src="https://www.youtube.com/embed/c3RVW3KGIIE?start=283" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Operaciones</p>
					<p><img src="img/progt05-50.png" alt="HashMap operaciones" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Declaración e inserción</p>
					<p><img src="img/progt05-51.png" alt="HashMap - Declaración e inserción" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Lectura de valores con <em>get</em></p>
					<p><img src="img/progt05-52.png" alt="HashMap - Lectura de valores con get" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Lectura de todas las entradas con <em>entrySet</em> y <em>foreach</em></p>
					<p><img src="img/progt05-53.png" alt="HashMap - Lectura de todas las entradas con entrySet y foreach" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Lectura de clave y valor con <em>getKey</em> y <em>getValue</em></p>
					<p><img src="img/progt05-54.png" alt="HashMap - Lectura de clave y valor" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Búsqueda de clave con <em>containsKey</em></p>
					<p><img src="img/progt05-55.png" alt="HashMap - Búsqueda de clave" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<h3>Diccionarios: HashMap</h3>
					<p>Ejemplo de uso: En la App Banco para identificar qué cuentas
						tienen asociado un teléfono para hacer Bizum
					</p>
					<p><img src="img/progt05-56.png" alt="HashMap - Ejemplo Bizum" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<p><img src="img/progt05-65.png" alt="Diagrama uso de colecciones" /></p>
				</section>

				<!-- Colecciones -->
				<section>
					<h2>Colecciones</h2>
					<p>Ejercicios de la relación 1</p>
					<p><img src="img/progt05-57.gif" alt="Ejercicios" /></p>
				</section>

				<!-- Índice -->
				<section>
					<h2>Índice</h2>
					<ol>
						<li>Introducción</li>
						<li>Colecciones
							<ul>
								<li>Conjuntos</li>
								<li>Listas</li>
								<li>Diccionarios</li>
							</ul>
						</li>
						<li class="fragment highlight-blue">Otras estructuras
							<ul>
								<li>XML</li>
								<li>JSON</li>
							</ul>
						</li>
					</ol>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>XML</h3>
					<ul>
						<li>Lenguaje de etiquetado para estructurar, almacenar e intercambiar información.</li>
						<li>La información en XML está pensada para ser leída por una máquina.</li>
						<li>Es posible modificar la información con un editor de texto plano.</li>
					</ul>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>XML</h3>
					<p>Elementos</p>
					<p><img src="img/progt05-58.png" alt="XML Elementos" /></p>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>XML</h3>
					<ul>
						<li>Los documentos XML están formados por nodos.</li>
						<li>Un nodo se delimita por su etiqueta de apertura y de cierre (como en HTML), situando entre ellas su contenido, que a su vez puede ser otros nodos.</li>
						<li>Los nodos pueden tener atributos dentro de su etiqueta de apertura.</li>
					</ul>
					<pre>
						<code class="hljs" data-trim> 
							<padre att1="valor" att2="valor"> 
								texto 1
								<ethija> texto 2 </ethija>
							 </padre>
						</code>
					</pre>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>XML</h3>
					<p>Ejemplo</p>
					<pre>
						<code class="hljs" data-trim> 
							<?xml version="1.0" encoding="ISO-8859-1"?> 
							<pedido>
								<cliente>Rafael López</cliente> 
								<codCliente>1234</codCliente> 
								...
							</pedido>
							<pedido>
								<cliente>María Nadal</cliente> 
								<codCliente>1238</codCliente> 
								...
							</pedido>
						</code>
					</pre>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<ul>
						<li>JSON (JavaScript Object Notation) es un formato de texto para representar objetos.</li>
						<li>Muy útil para transmitir datos a través de la red.</li>
						<li>Para acceder a sus datos hay que convertirlo a objeto nativo de Java mediante librerías como <a href="https://github.com/google/gson" target="_blank">Gson</a>.</li>
						<li>Permite almacenar los mismos tipos de datos primitivos que Java: cadenas, números, arrays...</li>
					</ul>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Ejemplo</p>
					<p><img src="img/progt05-60.jpg" alt="JSON ejemplo" /></p>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<ul>
						<li><span class="azul">Serializar</span> (stringify): Convierte un objeto en una cadena de texto JSON &rarr; <span class="naranja">gson.toJson(objeto)</span></li>
						<li><span class="azul">Deserializar</span> (parse): Convierte un texto como JSON en un objeto manejable por Java &rarr; <span class="naranja">gson.fromJson(cadenaJSON, clasePrincipal)</span></li>
					</ul>
					<p><img src="img/progt05-59.png" alt="JSON serializar" /></p>
				</section>

				<!-- PDF Importar librería Gson en proyecto -->
				<section data-background-iframe="doc/progt07-ImportarGsonIntelliJ.pdf" data-background-interactive></section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Crear JSON</p>
					<ul>
						<li>Para generar un JSON a partir de nuestros objetos, se utiliza el método <span class="naranja">gson.toJson(clase)</span> de la librería <a href="https://github.com/google/gson" target="_blank">Gson</a></li>
					</ul>
					<pre>
						<code class="hljs" data-trim> 
							import com.google.gson.*;
							...
							Gson gson = new Gson();
							System.out.println(gson.toJson(cuentas));
							// Guardar a fichero
						</code>
					</pre>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Leer o parsear JSON</p>
					<p>Para leer un JSON y poder utilizar los datos con nuestros objetos, se utiliza el método <span class="naranja">gson.fromJson(buffer, clasePrincipal.class)</span> de la librería <a href="https://github.com/google/gson" target="_blank">Gson</a>.</p>
					<p><em>buffer</em> es el JSON pasado a cadena (stringify) que normalmente se lee directamente desde fichero.</p>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Leer o parsear JSON</p>
					<pre>
						<code class="hljs" data-trim> 
							import com.google.gson.*;
							...
							Gson gson = new Gson();
							BufferedReader buffer = new BufferedReader(new FileReader("cuentas.json"));
							GestionCuentas gc = gson.fromJson(buffer, GestionCuentas.class);	
							
							// Si quisiéramos mapear un JSON a una estructura directamente de la que no tenemos clase creada por nosotros, como por ejemplo un ArrayList:
							ArrayList&lt;Cuenta&gt; cuentas = gson.fromJson(buffer, new TypeToken&lt;ArrayList&lt;Cuenta&gt;&gt;(){}.getType());
						</code>
					</pre>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Escritura en fichero</p>
					<pre>
						<code class="hljs" data-trim> 
							public static void escribeJSONEnFichero(String json){
								try{
									FileWriter fichero = new FileWriter("cuentas.json");
									PrintWriter pw = new PrintWriter(fichero);
									pw.println(json);
									fichero.close();
								}catch (Exception e){
									e.printStackTrace();
								}
							}		
						</code>
					</pre>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Instalar el plugin <em>DataGraph</em> de IntelliJ IDEA para mostrar diagramas visuales de archivos JSON.</p>
					<p><img src="img/progt07-14.png" alt="Plugin DataGraph" /></p>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Los archivos JSON se guardarán en una sola línea. Si se abre el archivo en IntelliJ IDEA es posible reformatearlo con sus saltos de línea e indentación correcta, desde <em>Code - Reformat Code</em>.</p>
					<p><img src="img/progt07-15.png" alt="Reformatear archivo json" /></p>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<h3>JSON</h3>
					<p>Pasos para parsear un JSON descargado desde Java creando automáticamente las clases necesarias.</p>
					<ol>
						<li>Localizar una API</li>
						<li>Probar la API en <a href="https://www.postman.com/" target="_blank">Postman</a></li>
						<li>Generar el esquema de clases a partir del JSON mediante <a href="https://www.jsonschema2pojo.org/" target="_blank">jsonschema2pojo</a></li>
						<li>Comprender la información del JSON y del esquema de clases para tener claro el parseo</li>
						<li>Parsear mediante el método <span class="naranja">gson.fromJson(buffer, clasePrincipal.class)</span> de la librería <a href="https://github.com/google/gson" target="_blank">Gson</a></li>
					</ol>
				</section>

				<!-- Otras estructuras -->
				<section>
					<h2>Otras estructuras</h2>
					<p>Ejercicios de la relación 2</p>
					<p><img src="img/progt05-63.gif" alt="Ejercicios" /></p>
				</section>

			
				<!-- Para repasar -->
				<section>
					<h2>Repasar</h2>
					<ul>
						<li><a href="https://www.w3schools.com/java/java_arraylist.asp" target="_blank">Java Tutorial - ArrayList</a></li>
						<li><a href="https://www.w3schools.com/java/java_linkedlist.asp" target="_blank">Java Tutorial - LinkedList</a></li>
                        <li><a href="https://www.w3schools.com/java/java_hashmap.asp" target="_blank">Java Tutorial - HashMap</a></li>
						<li><a href="https://www.w3schools.com/java/java_iterator.asp" target="_blank">Java Tutorial - Iterator</a></li>
						<li><a href="https://javarevisited.blogspot.com/2016/09/top-5-json-library-in-java-JEE.html?m=1" target="_blank">Javarevisited - 5 librerías JSON</a></li>
					
					</ul>
				</section>
				
				<!-- Presentación en PDF -->
				<section>
					<h2>Tips de la presentación</h2>
					<p>¿Imprimir en PDF?</p>
					<ol>
						<li><a href="?print-pdf" target="_blank">Clic aquí</a></li>
						<li><kbd>CTRL</kbd>/<kbd>CMD</kbd> + <kbd>P</kbd></li>
						<li>Guardar como PDF</li>
					</ol>
					<p>Navegar por las diapositivas</p>
					<ol>
						<li>Pulsa <kbd>ESC</kbd></li>
						<li>Clic a la que quieras ir</li>
					</ol>
				</section>

				<!-- FIN -->
				<section data-background-image="img/progt05-fin.gif">
					<h2>A trabajar...</h2>
				</section>				
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
				slideNumber: true, // true/none

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Parallax background image
				//parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',

				// Parallax background size
				//parallaxBackgroundSize: '2100px 900px',


				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
